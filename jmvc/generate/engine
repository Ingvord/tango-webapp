if(!_args[0]){
	print("Usage: js jmvc/generate/engine engine_name")
	print("engine_name := under_scoped_name\n");
	quit();
}
load('jmvc/generate/loader.js');

var data = {
	class_name: MVC.String.classize(_args[0]),
	application_name: _args[0]
}


MVCOptions.create_folder("engines/"+data.application_name);
MVCOptions.create_folder("engines/"+data.application_name+"/apps");
MVCOptions.create_folder("engines/"+data.application_name+"/controllers");
MVCOptions.create_folder("engines/"+data.application_name+"/models");
MVCOptions.create_folder("engines/"+data.application_name+"/resources");
MVCOptions.create_folder("engines/"+data.application_name+"/images");
MVCOptions.create_folder("engines/"+data.application_name+"/stylesheets");
MVCOptions.create_folder("engines/"+data.application_name+"/views");

render_to("engines/"+data.application_name+"/apps/"+data.application_name+".js", "jmvc/rhino/command/templates/application.ejs", data);


print("\n               Done!\n");
print("\n               Make sure to add to your application files!\n");